<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜Ÿç©ºå‘Šç™½ | ç²¾å‡†æ‘˜æ˜Ÿç‰ˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0d0522, #1d0b4d, #37187e);
            color: #fff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            background: rgba(15, 7, 32, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.7);
            overflow: hidden;
            position: relative;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            padding: 15px 0;
        }
        
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 5px;
            background: linear-gradient(to right, #ff7eb3, #ff758c, #ff7eb3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 15px rgba(255, 117, 140, 0.4);
        }
        
        .header p {
            color: #c0a9ff;
            font-size: 1rem;
        }
        
        .content {
            position: relative;
            min-height: 400px;
            margin: 15px 0;
        }
        
        .scene {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.8s ease;
            pointer-events: none;
        }
        
        .scene.active {
            opacity: 1;
            pointer-events: all;
            z-index: 10;
        }
        
        .question {
            text-align: center;
            margin-bottom: 15px;
            width: 100%;
        }
        
        .question h2 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #ffd7e9;
            text-shadow: 0 0 10px rgba(255, 215, 233, 0.3);
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            width: 100%;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 130px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .btn-yes {
            background: linear-gradient(to right, #ff6b8b, #ff8e53);
            color: white;
        }
        
        .btn-no {
            background: linear-gradient(to right, #4facfe, #00f2fe);
            color: white;
        }
        
        .btn-accept {
            background: linear-gradient(to right, #28a745, #20c997);
            color: white;
        }
        
        .btn-decline {
            background: linear-gradient(to right, #6c757d, #5a6268);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
        }
        
        .btn:active {
            transform: translateY(2px);
        }
        
        .animation-container {
            width: 100%;
            height: 380px;
            position: relative;
            margin: 10px 0;
            overflow: hidden;
            border-radius: 15px;
            background: rgba(8, 3, 22, 0.7);
            border: 2px solid rgba(100, 75, 200, 0.3);
            box-shadow: inset 0 0 20px rgba(100, 75, 200, 0.2), 
                        0 0 20px rgba(0, 0, 0, 0.4);
        }
        
        .sky {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #07021a, #16073a);
        }
        
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        /* ä¼˜åŒ–çš„å°äººç»“æ„ */
        .stickman {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            height: 140px;
            width: 50px;
        }
        
        .stickman .head {
            position: absolute;
            width: 28px;
            height: 28px;
            background: white;
            border-radius: 50%;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 15;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .stickman .body {
            position: absolute;
            width: 5px;
            height: 60px;
            background: white;
            top: 28px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            border-radius: 4px;
        }
        
        .stickman .arm {
            position: absolute;
            width: 5px;
            height: 45px;
            background: white;
            top: 33px;
            transform-origin: top center;
            z-index: 12;
            border-radius: 4px;
        }
        
        .stickman .arm-left {
            left: 50%;
            transform: translateX(-50%) rotate(20deg);
        }
        
        .stickman .arm-right {
            left: 50%;
            transform: translateX(-50%) rotate(-20deg);
        }
        
        .stickman .leg {
            position: absolute;
            width: 5px;
            height: 50px;
            background: white;
            top: 88px;
            transform-origin: top center;
            z-index: 11;
            border-radius: 4px;
        }
        
        .stickman .leg-left {
            left: 50%;
            transform: translateX(-50%) rotate(15deg);
        }
        
        .stickman .leg-right {
            left: 50%;
            transform: translateX(-50%) rotate(-15deg);
        }
        
        /* å‘Šç™½å®¹å™¨å’Œæ»šåŠ¨æ ·å¼ */
        .confession-container {
            width: 100%;
            height: 350px;
            margin: 15px 0;
            position: relative;
        }
        
        .confession-scroll {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            padding-right: 10px;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 107, 139, 0.5) rgba(255, 255, 255, 0.1);
        }
        
        .confession-scroll::-webkit-scrollbar {
            width: 6px;
        }
        
        .confession-scroll::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }
        
        .confession-scroll::-webkit-scrollbar-thumb {
            background: rgba(255, 107, 139, 0.5);
            border-radius: 3px;
        }
        
        .confession-scroll::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 107, 139, 0.7);
        }
        
        .confession-content {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 25px 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: fadeIn 1s ease;
        }
        
        .confession-content h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #ff9ec0;
            text-shadow: 0 0 10px rgba(255, 158, 192, 0.5);
            text-align: center;
        }
        
        .confession-content p {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #e0d6ff;
            margin-bottom: 18px;
            text-shadow: 0 0 8px rgba(255, 158, 192, 0.2);
            text-align: justify;
        }
        
        .confession-content .highlight {
            color: #e0d6ff;
            text-shadow: 0 0 8px rgba(255, 158, 192, 0.2);
            font-weight: 600;
        }
        
        .heart {
            color: #ff6b8b;
            font-size: 2.5rem;
            margin: 0 5px;
            animation: heartbeat 1.2s infinite;
            vertical-align: middle;
        }
        
        .progress {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 20px 0;
        }
        
        .step {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.5s ease;
            box-shadow: 0 0 8px rgba(255, 107, 139, 0.3);
        }
        
        .step.active {
            background: #ff6b8b;
            transform: scale(1.4);
            box-shadow: 0 0 12px rgba(255, 107, 139, 0.8);
        }
        
        @keyframes twinkle {
            0%, 100% { 
                opacity: 0.3; 
                transform: scale(1);
            }
            50% { 
                opacity: 1; 
                transform: scale(1.1);
                box-shadow: 0 0 10px white;
            }
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            15% { transform: scale(1.15); }
            30% { transform: scale(1); }
            45% { transform: scale(1.15); }
            60% { transform: scale(1); }
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(20px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        .stars-collected {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 25px 0;
        }
        
        .star-item {
            width: 45px;
            height: 45px;
            background: radial-gradient(circle at 30% 30%, #ffffff, #ffeb3b);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            box-shadow: 0 0 20px rgba(255, 235, 59, 0.7);
            opacity: 0;
            transform: scale(0);
            animation: starAppear 1s forwards;
        }
        
        @keyframes starAppear {
            to {
                opacity: 1;
                transform: scale(1) rotate(360deg);
            }
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #a090d0;
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 15px;
        }
        
        .message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            color: #ff6b8b;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 100;
        }
        
        .message.show {
            opacity: 1;
        }
        
        .star-object, .moon-object {
            position: absolute;
            top: 30px;
            right: 25px;
            font-size: 40px;
            opacity: 1;
            z-index: 20;
            text-shadow: 0 0 20px rgba(255, 235, 59, 0.8);
            animation: float 4s infinite ease-in-out;
            transition: all 0.3s ease;
        }
        
        .moon-object {
            font-size: 50px;
        }
        
        /* é­”æœ¯é—®é¢˜åœºæ™¯çš„ç‰¹æ®Šæ ·å¼ */
        .magic-question {
            text-align: center;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 30px 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: fadeIn 1s ease;
        }
        
        .magic-question h2 {
            font-size: 2rem;
            margin-bottom: 25px;
            color: #ff9ec0;
            text-shadow: 0 0 10px rgba(255, 158, 192, 0.5);
        }
        
        .magic-question p {
            font-size: 1.4rem;
            line-height: 1.8;
            color: #e0d6ff;
            margin-bottom: 20px;
            text-shadow: 0 0 8px rgba(255, 158, 192, 0.4);
        }
        
        .magic-icon {
            font-size: 3rem;
            color: #ffeb3b;
            margin: 20px 0;
            animation: sparkle 2s infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { 
                transform: scale(1) rotate(0deg);
                text-shadow: 0 0 20px rgba(255, 235, 59, 0.8);
            }
            50% { 
                transform: scale(1.1) rotate(5deg);
                text-shadow: 0 0 30px rgba(255, 235, 59, 0.9);
            }
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 480px) {
            .container {
                padding: 15px;
                max-width: 100%;
                margin: 10px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .question h2 {
                font-size: 1.5rem;
            }
            
            .btn {
                padding: 10px 25px;
                min-width: 110px;
                font-size: 1rem;
            }
            
            .animation-container {
                height: 280px;
            }
            
            .confession-container {
                height: 300px;
            }
            
            .confession-content {
                padding: 20px 15px;
            }
            
            .confession-content h2 {
                font-size: 1.6rem;
            }
            
            .confession-content p {
                font-size: 1rem;
                line-height: 1.6;
                margin-bottom: 15px;
            }
            
            .star-object, .moon-object {
                right: 20px;
                font-size: 35px;
            }
            
            .magic-question h2 {
                font-size: 1.6rem;
            }
            
            .magic-question p {
                font-size: 1.2rem;
            }
            
            .final-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .final-buttons .btn {
                width: 100%;
                max-width: 200px;
            }
        }
        
        @media (max-width: 360px) {
            .container {
                margin: 5px;
                padding: 12px;
            }
            
            .confession-container {
                height: 280px;
            }
            
            .confession-content {
                padding: 18px 12px;
            }
            
            .confession-content h2 {
                font-size: 1.4rem;
            }
            
            .confession-content p {
                font-size: 0.95rem;
            }
        }
        
        @keyframes float {
            0%, 100% { 
                transform: translateY(0) rotate(0deg); 
            }
            50% { 
                transform: translateY(-15px) rotate(5deg); 
            }
        }
        
        .status-text {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 1.5rem;
            color: #ffd7e9;
            text-shadow: 0 0 10px rgba(255, 215, 233, 0.7);
            z-index: 25;
        }
        
        .action-indicator {
            position: absolute;
            top: 60px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 1.2rem;
            color: #ffb6c1;
            z-index: 25;
            opacity: 0.9;
        }
        
        .highlight {
            color: #ffeb3b;
            text-shadow: 0 0 15px rgba(255, 235, 59, 0.9);
            font-weight: bold;
            padding: 0 3px;
        }
        
        /* å®Œç¾çš„æ‘˜æ˜ŸåŠ¨ç”»åºåˆ— */
        @keyframes perfect-jump {
            0% { 
                transform: translateX(-50%) translateY(0); 
            }
            50% { 
                transform: translateX(-50%) translateY(-120px); 
            }
            100% { 
                transform: translateX(-50%) translateY(0); 
            }
        }
        
        @keyframes reach-and-grab {
            0% { 
                transform: translateX(-50%) rotate(-20deg); 
            }
            40% { 
                transform: translateX(-50%) rotate(-140deg); 
            }
            60% { 
                transform: translateX(-50%) rotate(-140deg); 
            }
            100% { 
                transform: translateX(-50%) rotate(20deg); 
            }
        }
        
        @keyframes object-grabbed {
            0% { 
                top: 60px;
                right: 80px;
                transform: scale(1);
                opacity: 1;
            }
            30% { 
                top: 35px;
                right: 30px;
                transform: scale(0.9);
                opacity: 1;
            }
            60% { 
                top: 20px;
                right: 25px;
                transform: scale(0.8);
                opacity: 1;
            }
            100% { 
                top: 15px;
                left: 50%;
                right: auto;
                transform: translateX(-50%) scale(0.8);
                opacity: 1;
            }
        }
        
        @keyframes holding-celebration {
            0%, 100% { 
                transform: translateX(-50%) translateY(0); 
            }
            50% { 
                transform: translateX(-50%) translateY(-25px); 
            }
        }
        
        @keyframes arm-to-holding {
            0% { 
                transform: translateX(-50%) rotate(20deg); 
            }
            100% { 
                transform: translateX(-50%) rotate(50deg) translateY(-5px); 
            }
        }
        
        @keyframes object-in-hands {
            0%, 100% { 
                transform: translateX(-50%) scale(0.8) translateY(0px); 
            }
            50% { 
                transform: translateX(-50%) scale(0.85) translateY(-3px); 
            }
        }
        
        /* ç²’å­æ•ˆæœ */
        .particle {
            position: absolute;
            background: #ffeb3b;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
        }
        
        @keyframes particle-explosion {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }
        
        /* ç»“æœåœºæ™¯æ ·å¼ */
        .result-message {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: fadeIn 1s ease;
        }
        
        .result-message h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #ff9ec0;
            text-shadow: 0 0 10px rgba(255, 158, 192, 0.5);
        }
        
        .result-scroll {
            max-height: 250px;
            overflow-y: auto;
            padding-right: 10px;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 107, 139, 0.5) rgba(255, 255, 255, 0.1);
        }
        
        .result-scroll::-webkit-scrollbar {
            width: 6px;
        }
        
        .result-scroll::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }
        
        .result-scroll::-webkit-scrollbar-thumb {
            background: rgba(255, 107, 139, 0.5);
            border-radius: 3px;
        }
        
        .result-content p {
            font-size: 1.2rem;
            line-height: 1.7;
            color: #e0d6ff;
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .final-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>æ˜Ÿç©ºå‘Šç™½</h1>
            <p>ä¸ºä½ æ‘˜ä¸‹æ˜Ÿè¾°ï¼Œåªä¸ºæ¢ä½ ä¸€ç¬‘</p>
        </div>
        
        <div class="progress">
            <div class="step active"></div>
            <div class="step"></div>
            <div class="step"></div>
            <div class="step"></div>
            <div class="step"></div>
            <div class="step"></div>
        </div>
        
        <div class="content">
            <!-- åœºæ™¯1ï¼šæ˜Ÿæ˜Ÿé—®é¢˜ -->
            <div class="scene active" id="scene1">
                <div class="question">
                    <h2>ç¬¬ä¸€ä¸ªé—®é¢˜</h2>
                    <p>è¯·é—®ä½ æƒ³è¦å¤©ä¸Šçš„æ˜Ÿæ˜Ÿå—ï¼Ÿ</p>
                </div>
                
                <div class="buttons">
                    <button class="btn btn-yes" onclick="answerQuestion(true, 1)">æ˜¯çš„ï¼Œæˆ‘æƒ³è¦</button>
                    <button class="btn btn-no" onclick="answerQuestion(false, 1)">ä¸ï¼Œè°¢è°¢</button>
                </div>
            </div>
            
            <!-- åœºæ™¯2ï¼šæ‘˜æ˜Ÿæ˜ŸåŠ¨ç”» -->
            <div class="scene" id="scene2">
                <div class="status-text">æ‘˜æ˜Ÿæ˜Ÿä¸­...</div>
                <div class="animation-container">
                    <div class="sky" id="sky1"></div>
                    <div class="star-object" id="star1">â­</div>
                    <div class="stickman" id="stickman1">
                        <div class="head"></div>
                        <div class="body"></div>
                        <div class="arm arm-left"></div>
                        <div class="arm arm-right"></div>
                        <div class="leg leg-left"></div>
                        <div class="leg leg-right"></div>
                    </div>
                </div>
                <div class="action-indicator">è®©æˆ‘ä¸ºä½ æ‘˜ä¸‹é‚£é¢—æœ€äº®çš„æ˜Ÿæ˜Ÿï¼</div>
            </div>
            
            <!-- åœºæ™¯3ï¼šæœˆäº®é—®é¢˜ -->
            <div class="scene" id="scene3">
                <div class="question">
                    <h2>ç¬¬äºŒä¸ªé—®é¢˜</h2>
                    <p>è¯·é—®ä½ æƒ³è¦å¤©ä¸Šçš„æœˆäº®å—ï¼Ÿ</p>
                </div>
                
                <div class="stars-collected">
                    <div class="star-item">â­</div>
                </div>
                
                <div class="buttons">
                    <button class="btn btn-yes" onclick="answerQuestion(true, 2)">æ˜¯çš„ï¼Œæˆ‘æƒ³è¦</button>
                    <button class="btn btn-no" onclick="answerQuestion(false, 2)">ä¸ï¼Œè°¢è°¢</button>
                </div>
            </div>
            
            <!-- åœºæ™¯4ï¼šæ‘˜æœˆäº®åŠ¨ç”» -->
            <div class="scene" id="scene4">
                <div class="status-text">æ‘˜æœˆäº®ä¸­...</div>
                <div class="animation-container">
                    <div class="sky" id="sky2"></div>
                    <div class="moon-object" id="moon1">ğŸŒ™</div>
                    <div class="stickman" id="stickman2">
                        <div class="head"></div>
                        <div class="body"></div>
                        <div class="arm arm-left"></div>
                        <div class="arm arm-right"></div>
                        <div class="leg leg-left"></div>
                        <div class="leg leg-right"></div>
                    </div>
                </div>
                <div class="action-indicator">è®©æˆ‘ä¸ºä½ æ‘˜ä¸‹é‚£è½®çšæ´çš„æ˜æœˆï¼</div>
            </div>
            
            <!-- æ–°å¢åœºæ™¯5ï¼šé­”æœ¯é—®é¢˜ -->
            <div class="scene" id="scene5">
                <div class="magic-question">
                    <h2>é­”æœ¯è¡¨æ¼”ç»“æŸ</h2>
                    <p>æ‘˜æ˜Ÿæ˜Ÿå’Œæœˆäº®çš„é­”æœ¯å·²ç»è¡¨æ¼”ç»™ä½ äº†</p>
                    <p>èƒ½ä¸èƒ½å†å€Ÿä½ å‡ åˆ†é’Ÿçš„æ—¶é—´</p>
                    <p>çœ‹çœ‹æˆ‘æƒ³å¯¹ä½ è¯´çš„è¯ï¼Ÿ</p>
                </div>
                
                <div class="buttons">
                    <button class="btn btn-yes" onclick="answerMagicQuestion(true)">å¥½çš„</button>
                    <button class="btn btn-no" onclick="answerMagicQuestion(false)">æŠ±æ­‰ï¼Œæ²¡æ—¶é—´</button>
                </div>
            </div>
            
            <!-- åœºæ™¯6ï¼šå‘Šç™½ -->
            <div class="scene" id="scene6">
                <div class="confession-container">
                    <div class="confession-scroll">
                        <div class="confession-content">
                            <h2>To Nichole:</h2>
                            <p>é¦–å…ˆæˆ‘è¦å…ˆè°¢è°¢ä½ èƒ½å¤ŸèŠ±æ—¶é—´çœ‹æˆ‘çš„è¡¨æ¼”å“ˆå“ˆå“ˆå“ˆ(è™½ç„¶åªæœ‰å‡ ç§’è€Œå·²ï¼‰ã€‚ä¸æ‡‚ä½ çœ‹åˆ°è¿™é‡Œçš„æ—¶å€™æˆ‘æœ‰æ²¡æœ‰åœ¨ä½ çš„èº«è¾¹ï¼ˆæˆ‘ä¼šå®³ç¾å“ˆå“ˆå“ˆï¼‰ã€‚</p>
                            
                            <p>Erm ä¸‹æ¬¡ä¸æ‡‚è¿˜æœ‰æ²¡æœ‰æœºä¼šè§é¢...?æ‰€ä»¥å°±å…ˆå†™ä¸€äº›è‡ªå·±çš„å¿ƒé‡Œè¯å•¦ã€‚</p>
                            
                            <p>è®²çœŸçš„å¾ˆè°¢è°¢ä½ è¿™æ®µæ—¶é—´èƒ½å¤Ÿé™ªæˆ‘èŠèŠå¤©ï¼Œå¼€å¼€ç©ç¬‘å“ˆå“ˆå“ˆï¼Œå¯ä»¥è®²çœŸçš„æ˜¯åœ¨æˆ‘å¿ƒæƒ…ä½è½çš„æ—¶å€™å¯ä»¥è®©æˆ‘æ‰¾åˆ°ä¸€äº›å¿«ä¹å’Œå®‰æ…°ã€‚</p>
                            
                            <p>è™½ç„¶æˆ‘ä»¬è§é¢çš„æ¬¡æ•°å¾ˆå°‘å¾ˆå°‘ï¼Œä½†æ˜¯è‡ªä»æˆ‘ç¦»å¼€çº³é—½ä¸€æ®µæ—¶é—´åæˆ‘å‘ç°æˆ‘ä¸æƒ³å’Œä½ åˆ†å¼€ï¼Œæˆ‘åŸä»¥ä¸ºæˆ‘ä»¬è¿˜æœ‰è‡³å°‘10ä¸ªæœˆçš„æ—¶é—´å¯ä»¥ç»§ç»­ç›¸å¤„ï¼Œä½†æ˜¯ç°åœ¨è®¡åˆ’èµ¶ä¸ä¸Šå˜åŒ–å“ˆå“ˆå“ˆã€‚</p>
                            
                            <p>æˆ‘å›æ¥çš„é‚£æ®µæ—¶é—´çœŸçš„å‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…å¾ˆä¸å¥½å—ï¼Œä½†æ˜¯å°±åƒæˆ‘ä¹‹å‰å’Œä½ è¯´è¿‡çš„ä¸€æ ·ï¼Œ<span class="highlight">ä½ çš„å‡ºç°è®©æˆ‘çœ¼ä¸­çš„ä¸–ç•Œå˜å¾—å¤šå§¿å¤šå½©ï¼Œè®©æˆ‘åŸæœ¬æš—æ·¡æ— å…‰çš„ç”Ÿæ´»å˜å¾—äº”å½©æ–‘æ–“</span>ï¼Œåœ¨æˆ‘å› ä¸ºç”Ÿæ´»ç–²æƒ«ä¸å ªæ—¶ï¼Œä¼šå› ä¸ºä½ çš„å­˜åœ¨è§‰å¾—äººç”Ÿè¿˜å¾ˆç¾å¥½ã€‚</p>
                            
                            <p>å¯¹æˆ‘æ¥è¯´ï¼Œ<span class="highlight">ä»Šå¹´æœ€å¹¸è¿çš„äº‹æƒ…å°±æ˜¯é‡åˆ°äº†ä½ </span>ï¼Œä½ çš„å‡ºç°åƒæ˜åªšçš„æ›™å…‰ï¼Œè®©æˆ‘å¯¹å¹³æ·¡çš„ç”Ÿæ´»é‡æ–°æœ‰äº†æœŸå¾…ï¼ŒæœŸå¾…æ¯ä¸ªè§é¢çš„æœºä¼šã€‚</p>
                            
                            <p><span class="highlight">æˆ‘çœŸçš„å¾ˆå–œæ¬¢ä½ ï¼Œæƒ³ä¸€ç›´é™ªä¼´ä½ </span>ï¼Œè™½ç„¶åŒæ—¶æˆ‘ä¹Ÿæ‡‚ä¸æ˜¯æ‰€æœ‰ç›¸é‡éƒ½æœ‰ç»“æœï¼Œä½†æˆ‘è§‰å¾—ä½ æ˜¯å±äºé‚£ç§ï¼Œå…‰æ˜¯é‡è§å·²ç»æ˜¯ä¸Šä¸Šç­¾çš„äº†ã€‚</p>
                            
                            <p>æˆ‘çœ‹åˆ°ä½ çš„ç¬¬ä¸€çœ¼å°±å¯¹ä½ æœ‰äº†è«åçš„å¥½æ„Ÿï¼Œè¿™ç§å¿ƒçµæ¶Œä¸Šçš„ä¼¼æ›¾ç›¸è¯†çš„äº²åˆ‡æ„Ÿä¸ºå”¯ç‹¬ä½ æ‰ç»™çš„äº†æˆ‘çš„æ„Ÿè§‰ï¼Œå°±åƒæˆ‘æ¢¦ä¸­çš„è™šå½±ï¼Œåœ¨è§åˆ°ä½ çš„é‚£ä¸€åˆ»çªç„¶æœ‰äº†å®ä½“ã€‚</p>
                            
                            <p><span class="highlight">ä½ ä¸æ˜¯æˆ‘æƒè¡¡åˆ©å¼Šåçš„é€‰æ‹©ï¼Œè€Œæ˜¯æˆ‘æ€¦ç„¶å¿ƒåŠ¨åæ˜çŸ¥ä¸å¯è€Œä¸ºä¹‹çš„åšå®šã€‚</span></p>
                            
                            <p>å½“ç„¶ï¼Œæˆ‘ä¹Ÿä¸æƒ³ç”¨å–œæ¬¢æˆ–çˆ±å»ç»‘æ¶ä¸€ä¸ªäººï¼Œæ‰€ä»¥ä¸è¦æœ‰å‹åŠ›ï¼Œè¿™äº›è¯æ˜¯åœ¨æˆ‘æ€è€ƒè‰¯ä¹…åå†³å®šå¯¹ä½ è¡¨è¾¾æˆ‘å¯¹ä½ çš„å‘Šç™½ã€‚</p>
                            
                            <p>çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœä½ è§‰å¾—æ„Ÿåˆ°ä¸é€‚æˆ–æ¶å¿ƒçš„è¯ä½ å¯ä»¥é€‰æ‹©é€€å‡ºæˆ–å½“é¢æ‹’ç»æˆ‘å“ˆå“ˆå“ˆï¼Œæˆ‘å·²ç»åšå¥½å‡†å¤‡æ¥å—ä¸€åˆ‡äº†å“ˆå“ˆå“ˆå“ˆã€‚</p>
                            
                            <p>åœ¨è¿™ä¹‹åä½ å¯ä»¥ç»™æˆ‘ä¸€äº›åé¦ˆå’Œå›å¤ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¿æŒæ²‰é»˜å½“ä½œæ²¡æœ‰äº‹æƒ…å‘ç”Ÿå“ˆå“ˆå“ˆå“ˆï¼Œæˆ‘è§‰å¾—ç»“æœå¯èƒ½å·²ç»æ²¡æœ‰é‚£ä¹ˆé‡è¦äº†ï¼Œåˆ°æœ€åæˆ‘ä¸ç®¡æ€æ ·æˆ‘éƒ½å¸Œæœ›ä½ æœªæ¥å¯ä»¥è¶Šæ¥è¶Šå¥½ï¼Œäº«å—ç”Ÿæ´»ï¼Œå¿«ä¹åšè‡ªå·±ï¼</p>
                            
                            <p style="text-align: right; margin-top: 30px; font-style: italic; color: #ff9ec0;">Jonas</p>
                        </div>
                    </div>
                </div>
                
                <div class="final-buttons">
                    <button class="btn btn-accept" onclick="handleResponse(true)">
                        <i class="fas fa-heart"></i> æˆ‘æ¥å—
                    </button>
                    <button class="btn btn-decline" onclick="handleResponse(false)">
                        <i class="fas fa-times"></i> æˆ‘æ‹’ç»
                    </button>
                </div>
            </div>
            
            <!-- åœºæ™¯7ï¼šç»“æœ -->
            <div class="scene" id="scene7">
                <div class="result-message" id="resultMessage">
                    <!-- åŠ¨æ€å†…å®¹ -->
                </div>
                
                <button class="btn btn-yes" style="margin-top: 20px; padding: 12px 35px;" onclick="restartStory()">
                    <i class="fas fa-redo"></i> å†çœ‹ä¸€æ¬¡
                </button>
            </div>
        </div>
        
        <div class="footer">
            ç”¨å¿ƒåˆ¶ä½œ Â· åªä¸ºä½ ä¸€äºº | 2024
        </div>
        
        <div class="message" id="message">è¯·é€‰æ‹©"æ˜¯çš„ï¼Œæˆ‘æƒ³è¦"æ¥ç»§ç»­æ•…äº‹</div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentScene = 1;
        const collectedItems = [];
        
        // åˆå§‹åŒ–æ˜Ÿç©ºèƒŒæ™¯
        function createStars(skyId, count = 150) {
            const sky = document.getElementById(skyId);
            if (!sky) return;
            
            // æ¸…ç©ºç°æœ‰æ˜Ÿæ˜Ÿ
            sky.innerHTML = '';
            
            for (let i = 0; i < count; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // éšæœºå¤§å°å’Œä½ç½®
                const size = Math.random() * 3 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.animationDelay = `${Math.random() * 3}s`;
                
                sky.appendChild(star);
            }
        }
        
        // åˆ›å»ºåº†ç¥ç²’å­æ•ˆæœ
        function createParticles(centerX, centerY, count = 25) {
            const container = document.querySelector('.animation-container');
            if (!container) return;
            
            for (let i = 0; i < count; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // éšæœºå±æ€§
                const size = Math.random() * 8 + 3;
                const colors = ['#ffeb3b', '#ff6b8b', '#4facfe', '#00f2fe', '#ffffff'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.background = color;
                particle.style.position = 'absolute';
                particle.style.left = `${centerX}px`;
                particle.style.top = `${centerY}px`;
                particle.style.zIndex = '30';
                
                // éšæœºæ–¹å‘å’Œè·ç¦»
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 150 + 50;
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;
                
                particle.style.setProperty('--tx', `${tx}px`);
                particle.style.setProperty('--ty', `${ty}px`);
                
                // åŠ¨ç”»
                particle.style.animation = `particle-explosion ${Math.random() * 1.5 + 1}s ease-out forwards`;
                
                container.appendChild(particle);
                
                // æ¸…ç†
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.remove();
                    }
                }, 2500);
            }
        }
        
        // åœºæ™¯åˆ‡æ¢å‡½æ•°
        function switchScene(sceneNumber) {
            console.log(`åˆ‡æ¢åˆ°åœºæ™¯ ${sceneNumber}`);
            currentScene = sceneNumber;
            
            // éšè—æ‰€æœ‰åœºæ™¯
            document.querySelectorAll('.scene').forEach(scene => {
                scene.classList.remove('active');
            });
            
            // æ˜¾ç¤ºç›®æ ‡åœºæ™¯
            const targetScene = document.getElementById(`scene${sceneNumber}`);
            if (targetScene) {
                targetScene.classList.add('active');
            }
            
            // æ›´æ–°è¿›åº¦æŒ‡ç¤ºå™¨
            document.querySelectorAll('.step').forEach((step, index) => {
                step.classList.toggle('active', index < sceneNumber);
            });
            
            // åœºæ™¯ç‰¹å®šåˆå§‹åŒ–
            if (sceneNumber === 2) {
                createStars('sky1', 150);
                setTimeout(() => {
                    startPerfectPickingAnimation(1, 'star1', 'â­');
                }, 800);
            } else if (sceneNumber === 4) {
                createStars('sky2', 150);
                setTimeout(() => {
                    startPerfectPickingAnimation(2, 'moon1', 'ğŸŒ™');
                }, 800);
            }
        }
        
        // å®Œç¾ç®€æ´çš„æ‘˜å–åŠ¨ç”»å‡½æ•°
        function startPerfectPickingAnimation(stickmanId, objectId, itemSymbol) {
            console.log(`å¼€å§‹å®Œç¾æ‘˜å–åŠ¨ç”»: ${objectId}`);
            
            const stickman = document.getElementById(`stickman${stickmanId}`);
            const object = document.getElementById(objectId);
            const rightArm = stickman?.querySelector('.arm-right');
            const leftArm = stickman?.querySelector('.arm-left');
            const head = stickman?.querySelector('.head');
            
            if (!stickman || !object || !rightArm || !leftArm) {
                console.error('æ‰¾ä¸åˆ°å¿…è¦çš„åŠ¨ç”»å…ƒç´ ');
                return;
            }
            
            // é‡ç½®æ‰€æœ‰çŠ¶æ€
            resetStickmanState(stickman);
            resetObjectState(object);
            
            console.log('å¼€å§‹å®Œç¾ç®€æ´åŠ¨ç”»åºåˆ—...');
            
            // åŠ¨ç”»åºåˆ— - æç®€ç‰ˆæœ¬
            const animationSequence = async () => {
                // ç¬¬1æ­¥ï¼šå°äººèµ·è·³å¹¶ä¼¸æ‰‹è§¦æ‘¸ (2.0ç§’)
                console.log('æ­¥éª¤1: å°äººèµ·è·³ä¼¸æ‰‹è§¦æ‘¸');
                
                // å¼€å§‹è·³è·ƒ
                stickman.style.animation = 'perfect-jump 2.0s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards';
                
                // å»¶è¿Ÿ400mså¼€å§‹ä¼¸æ‰‹ï¼Œè®©åŠ¨ä½œæ›´è‡ªç„¶
                setTimeout(() => {
                    rightArm.style.transition = 'transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    rightArm.style.transform = 'translateX(-50%) rotate(-110deg)';  // è°ƒæ•´è§’åº¦è®©æ‰‹è‡‚ç²¾å‡†è§¦åŠæ˜Ÿæ˜Ÿ/æœˆäº®
                }, 400);
                
                // ç­‰å¾…1.2ç§’ - æ‰‹è‡‚è§¦æ‘¸åˆ°æ˜Ÿæ˜Ÿ/æœˆäº®çš„ç¬é—´
                await delay(1200);
                
                // ç¬¬2æ­¥ï¼šæ˜Ÿæ˜Ÿ/æœˆäº®è¢«è§¦æ‘¸ï¼Œç«‹å³è·Ÿéšå°äºº
                console.log('æ­¥éª¤2: æ˜Ÿæ˜Ÿ/æœˆäº®è·Ÿéšå°äºº');
                
                // å°†æ˜Ÿæ˜Ÿ/æœˆäº®ç§»åŠ¨åˆ°å°äººå†…éƒ¨ï¼Œè®©å®ƒè·Ÿéšå°äººä¸€èµ·ç§»åŠ¨
                stickman.appendChild(object);
                
                // ç«‹å³å®šä½åˆ°å³æ‰‹é™„è¿‘
                object.style.position = 'absolute';
                object.style.top = '25px';  // åœ¨å³æ‰‹é™„è¿‘
                object.style.left = '65%';  // ç¨å¾®åå³
                object.style.right = 'auto';
                object.style.transform = 'scale(0.9)';
                object.style.zIndex = '25';
                object.style.animation = 'none';
                object.style.transition = 'all 0.6s ease-out';
                
                // ç¬¬3æ­¥ï¼šåœ¨è½åœ°è¿‡ç¨‹ä¸­åˆ‡æ¢åˆ°åŒæ‰‹æŠ±å§¿åŠ¿
                await delay(400); // ç­‰å¾…å°äººå¼€å§‹è½ä¸‹
                
                console.log('æ­¥éª¤3: åˆ‡æ¢åˆ°åŒæ‰‹æŠ±å§¿åŠ¿');
                
                // åŒæ—¶è¿›è¡Œï¼šæ‰‹è‡‚è°ƒæ•´ + æ˜Ÿæ˜Ÿ/æœˆäº®ç§»åŠ¨åˆ°æ€€ä¸­
                // å³æ‰‹è‡‚å›æ”¶
                rightArm.style.transition = 'transform 0.4s ease-out';
                rightArm.style.transform = 'translateX(-50%) rotate(-50deg) translateY(-5px)';
                
                // å·¦æ‰‹è‡‚ä¼¸å‡ºæŠ±å§¿åŠ¿
                leftArm.style.transition = 'transform 0.4s ease-out';
                leftArm.style.transform = 'translateX(-50%) rotate(50deg) translateY(-5px)';
                
                // å¤´éƒ¨è½»å¾®ä¸ŠæŠ¬
                head.style.transition = 'transform 0.4s ease-out';
                head.style.transform = 'translateX(-50%) translateY(-5px)';
                
                // æ˜Ÿæ˜Ÿ/æœˆäº®ç§»åŠ¨åˆ°æ€€ä¸­å¤®
                object.style.top = '20px';
                object.style.left = '50%';
                object.style.transform = 'translateX(-50%) scale(0.8)';
                
                // ç­‰å¾…æ‰‹è‡‚è°ƒæ•´å®Œæˆ
                await delay(400);
                
                // ç¬¬4æ­¥ï¼šè½åœ°ååº†ç¥
                await delay(400); // ç­‰å¾…å®Œå…¨è½åœ°
                
                console.log('æ­¥éª¤4: åº†ç¥');
                
                // æ·»åŠ è½»å¾®æµ®åŠ¨æ•ˆæœ
                object.style.animation = 'object-in-hands 2s ease-in-out infinite';
                
                // åˆ›å»ºåº†ç¥ç²’å­æ•ˆæœ
                const containerRect = document.querySelector('.animation-container').getBoundingClientRect();
                const stickmanRect = stickman.getBoundingClientRect();
                const centerX = stickmanRect.left - containerRect.left + stickmanRect.width / 2;
                const centerY = stickmanRect.top - containerRect.top + 80;
                
                createParticles(centerX, centerY, 20);
                
                // åº†ç¥è·³è·ƒåŠ¨ç”» - å°äººå’Œç‰©ä½“ä¸€èµ·è·³è·ƒ
                stickman.style.animation = 'holding-celebration 0.6s ease-in-out 2';
                
                // è®°å½•æ”¶é›†çš„ç‰©å“
                if (!collectedItems.includes(itemSymbol)) {
                    collectedItems.push(itemSymbol);
                }
                
                console.log(`${itemSymbol} æ‘˜å–å®Œæˆï¼`);
                
                // ç­‰å¾…åº†ç¥å®Œæˆååˆ‡æ¢åœºæ™¯
                await delay(1500);
                
                if (stickmanId === 1) {
                    console.log('æ‘˜æ˜Ÿå®Œæˆï¼Œåˆ‡æ¢åˆ°æœˆäº®é—®é¢˜åœºæ™¯');
                    switchScene(3);
                } else {
                    console.log('æ‘˜æœˆå®Œæˆï¼Œåˆ‡æ¢åˆ°é­”æœ¯é—®é¢˜åœºæ™¯');
                    switchScene(5);
                }
            };
            
            // å¯åŠ¨åŠ¨ç”»åºåˆ—
            animationSequence().catch(error => {
                console.error('åŠ¨ç”»åºåˆ—æ‰§è¡Œå‡ºé”™:', error);
            });
        }
        
        // è¾…åŠ©å‡½æ•°ï¼šå»¶è¿Ÿæ‰§è¡Œ
        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        // é‡ç½®å°äººçŠ¶æ€
        function resetStickmanState(stickman) {
            // é‡ç½®å°äººæ•´ä½“
            stickman.style.transform = 'translateX(-50%)';
            stickman.style.animation = 'none';
            stickman.style.transition = 'none';
            
            // é‡ç½®æ‰‹è‡‚
            const leftArm = stickman.querySelector('.arm-left');
            const rightArm = stickman.querySelector('.arm-right');
            if (leftArm) {
                leftArm.style.animation = 'none';
                leftArm.style.transition = 'none';
                leftArm.style.transform = 'translateX(-50%) rotate(20deg)';
            }
            if (rightArm) {
                rightArm.style.animation = 'none';
                rightArm.style.transition = 'none';
                rightArm.style.transform = 'translateX(-50%) rotate(-20deg)';
            }
            
            // é‡ç½®å¤´éƒ¨
            const head = stickman.querySelector('.head');
            if (head) {
                head.style.transition = 'none';
                head.style.transform = 'translateX(-50%)';
            }
        }
        
        // é‡ç½®ç‰©ä½“çŠ¶æ€
        function resetObjectState(object) {
            // ç¡®ä¿ç‰©ä½“åœ¨æ­£ç¡®çš„çˆ¶å®¹å™¨ä¸­
            const animationContainer = object.closest('.animation-container');
            if (animationContainer && object.parentNode !== animationContainer) {
                animationContainer.appendChild(object);
            }
            
            // é‡ç½®ç‰©ä½“æ ·å¼ - è°ƒæ•´åˆ°æ‰‹è‡‚å¯ä»¥ç²¾å‡†è§¦åŠçš„ä½ç½®
            object.style.position = 'absolute';
            object.style.top = '30px';
            object.style.right = '25px';
            object.style.left = 'auto';
            object.style.transform = 'scale(1)';
            object.style.opacity = '1';
            object.style.transition = 'none';
            object.style.animation = 'float 4s infinite ease-in-out';
            object.style.zIndex = '20';
        }
        
        // é—®é¢˜å›ç­”å¤„ç†
        function answerQuestion(answer, questionNumber) {
            console.log(`å›ç­”é—®é¢˜ ${questionNumber}: ${answer ? 'æ˜¯' : 'å¦'}`);
            
            if (answer) {
                // æ­£ç¡®ç­”æ¡ˆï¼Œç»§ç»­æ•…äº‹
                const nextScene = questionNumber === 1 ? 2 : 4;
                switchScene(nextScene);
            } else {
                // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
                showMessage("è¯·é€‰æ‹©'æ˜¯çš„ï¼Œæˆ‘æƒ³è¦'æ¥ç»§ç»­æ•…äº‹");
            }
        }
        
        // æ–°å¢ï¼šå¤„ç†é­”æœ¯é—®é¢˜çš„å›ç­”
        function answerMagicQuestion(answer) {
            console.log(`å›ç­”é­”æœ¯é—®é¢˜: ${answer ? 'æ˜¯' : 'å¦'}`);
            
            if (answer) {
                // åŒæ„ç»§ç»­ï¼Œåˆ‡æ¢åˆ°å‘Šç™½åœºæ™¯
                switchScene(6);
            } else {
                // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
                showMessage("è¯·é€‰æ‹©'å¥½çš„'æ¥ç»§ç»­æ•…äº‹");
            }
        }
        
        // æ˜¾ç¤ºæ¶ˆæ¯æç¤º
        function showMessage(text) {
            const message = document.getElementById('message');
            if (message) {
                message.textContent = text;
                message.classList.add('show');
                
                setTimeout(() => {
                    message.classList.remove('show');
                }, 2500);
            }
        }
        
        // å¤„ç†æœ€ç»ˆå‘Šç™½å›åº”
        function handleResponse(accepted) {
            console.log(`å‘Šç™½å›åº”: ${accepted ? 'æ¥å—' : 'æ‹’ç»'}`);
            
            const resultMessage = document.getElementById('resultMessage');
            if (!resultMessage) return;
            
            if (accepted) {
                resultMessage.className = 'result-message';
                resultMessage.innerHTML = `
                    <div class="result-scroll">
                        <div class="result-content">
                            <p>çœŸçš„å—?è¿™ç®€ç›´æ¯”ç§å¤´å¥–è¿˜éš¾ç›¸ä¿¡å“ˆå“ˆå“ˆã€‚éå¸¸æ„Ÿè°¢ä½ å¯ä»¥è¿™ä¹ˆä¸å«Œå¼ƒæˆ‘å“ˆå“ˆå“ˆå“ˆã€‚</p>
                            <p>æœªæ¥çš„è·¯è¿˜å¾ˆé•¿ï¼Œä½†æ˜¯ä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä¼šä¸€ç›´ç‰µç€ä½ çš„æ‰‹é™ªä½ ä¸€èµ·èµ°ï¼Œæˆ‘ä¸€ç›´éƒ½ä¼šåœ¨ï¼Œä¹Ÿä¼šä¸€ç›´å® ä½ å“ˆå“ˆå“ˆã€‚</p>
                            <p style="font-weight: 600; margin-top: 25px;">è°¢è°¢ä½ ï¼Œæˆ‘çš„ä¸“å±å°ç¾ã€‚æœ€å–œæ¬¢ä½ äº†ï¼</p>
                        </div>
                    </div>
                `;
            } else {
                resultMessage.className = 'result-message';
                resultMessage.innerHTML = `
                    <div class="result-scroll">
                        <div class="result-content">
                            <p>è¿™æ˜¯æˆ‘æ„æ–™ä¹‹ä¸­çš„ç»“æœäº†ï¼Œæˆ‘æœ¬èº«ä¹Ÿå¯¹è‡ªå·±æ²¡æœ‰æŠ±æœ‰é‚£ä¹ˆå¤§çš„æœŸæœ›å“ˆå“ˆå“ˆæ˜¯æˆ‘æ— èƒ½æ²¡æœ¬äº‹ï¼Œæ²¡æœ‰åŠæ³•èµ°è¿›ä½ çš„å¿ƒé‡Œã€‚</p>
                            <p>ä½†æ˜¯æœ€åè¿˜æ˜¯è¦è°¢è°¢ä½ æ›¾ç»çš„é™ªä¼´å’Œå¯¹æˆ‘çš„è€å¿ƒï¼Œæœ‰ä½ åœ¨æˆ‘çœŸçš„å¾ˆå¼€å¿ƒã€‚å¾ˆé—æ†¾ï¼Œä¹Ÿå¾ˆéš¾å¿˜ï¼Œä½†æˆ‘ä¸ä¼šåæ‚”ã€‚</p>
                            <p style="font-weight: 600; margin-top: 25px;">è™½ç„¶æœªæ¥çš„è·¯æˆ‘ä»¬ä¸èƒ½åŒè¡Œï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¸Œæœ›ä½ ä¼šè¶Šæ¥è¶Šå¥½ï¼Œæ°¸è¿œæ˜åªšï¼Œæ°¸è¿œå¿«ä¹ï¼Œç¥ä½ å¹³å®‰ï¼</p>
                        </div>
                    </div>
                `;
            }
            
            switchScene(7);
        }
        
        // é‡æ–°å¼€å§‹æ•…äº‹
        function restartStory() {
            console.log('é‡æ–°å¼€å§‹æ•…äº‹');
            
            // é‡ç½®å…¨å±€çŠ¶æ€
            currentScene = 1;
            collectedItems.length = 0;
            
            // é‡ç½®æ‰€æœ‰åŠ¨ç”»å¯¹è±¡çš„ä½ç½®
            resetAllObjects();
            
            // åˆ‡æ¢åˆ°ç¬¬ä¸€ä¸ªåœºæ™¯
            switchScene(1);
        }
        
        // é‡ç½®æ‰€æœ‰åŠ¨ç”»å¯¹è±¡
        function resetAllObjects() {
            // é‡ç½®æ˜Ÿæ˜Ÿ
            const star1 = document.getElementById('star1');
            if (star1) {
                const animationContainer = star1.closest('.animation-container') || document.querySelector('#scene2 .animation-container');
                if (animationContainer && star1.parentNode !== animationContainer) {
                    animationContainer.appendChild(star1);
                }
                resetObjectState(star1);
            }
            
            // é‡ç½®æœˆäº®
            const moon1 = document.getElementById('moon1');
            if (moon1) {
                const animationContainer = moon1.closest('.animation-container') || document.querySelector('#scene4 .animation-container');
                if (animationContainer && moon1.parentNode !== animationContainer) {
                    animationContainer.appendChild(moon1);
                }
                resetObjectState(moon1);
            }
            
            // é‡ç½®æ‰€æœ‰å°äºº
            const stickman1 = document.getElementById('stickman1');
            const stickman2 = document.getElementById('stickman2');
            
            if (stickman1) resetStickmanState(stickman1);
            if (stickman2) resetStickmanState(stickman2);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('load', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œåˆå§‹åŒ–æ˜Ÿç©º');
            createStars('sky1', 150);
            createStars('sky2', 150);
        });
        
        // é”™è¯¯å¤„ç†
        window.addEventListener('error', function(e) {
            console.error('å‘ç”Ÿé”™è¯¯:', e.error);
        });
    </script>
</body>
</html>